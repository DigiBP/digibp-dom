<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="Definitions_08o701t" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="1.13.1">
  <bpmn:process id="Process_1" name="Serive Integration with Dropbox" isExecutable="true" camunda:versionTag="1">
    <bpmn:startEvent id="StartEvent_0xvx5o8" name="Request new employee">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="content" label="content" type="string" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:outgoing>SequenceFlow_0io0hkr</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:userTask id="UserTask_10sl311" name="Ask Director for new headcount" camunda:formKey="NewEmployeeRequest" camunda:candidateGroups="manager">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="HeadcountRequest">Yes</camunda:inputParameter>
          <camunda:outputParameter name="DirectorFeedback">Headcount available</camunda:outputParameter>
        </camunda:inputOutput>
        <camunda:formData>
          <camunda:formField id="Department" label="Department" type="string" />
          <camunda:formField id="Position" label="Position" type="string" />
          <camunda:formField id="Education" label="Education" type="string" />
          <camunda:formField id="Experience" label="Experience" type="long" />
          <camunda:formField id="StartDate" label="Start Date" type="date" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0io0hkr</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1xih1s6</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="UserTask_018uqmv" name="Check  Headcount availability">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="headcount" label="Headcount available?" type="string" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1xih1s6</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0b5l300</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0yg5v2y" name="Headcount available?">
      <bpmn:incoming>SequenceFlow_0b5l300</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_12ppi18</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1r5kwq7</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:endEvent id="EndEvent_0m9xby6" name="Do not hire employee">
      <bpmn:incoming>SequenceFlow_1r5kwq7</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:userTask id="UserTask_06ufgpz" name="Send Approval Notification" camunda:formKey="NewEmployeeRequest" camunda:candidateGroups="Director">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="DirectorFeedback">Evaluated check from director</camunda:inputParameter>
          <camunda:outputParameter name="ApprovedHeadcount">Director approves Headcount</camunda:outputParameter>
        </camunda:inputOutput>
        <camunda:formData>
          <camunda:formField id="Department" label="Deparment" type="string" />
          <camunda:formField id="Position" label="Position" type="string" />
          <camunda:formField id="Education" label="Education" type="string" />
          <camunda:formField id="Experience" label="Experience" type="long" />
          <camunda:formField id="StartDate" label="Start Date" type="date" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_12ppi18</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_078gmu6</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="UserTask_1yifthp" name="Check Existing Role">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="ExistingRole" label="Headcount for existing position?" type="string" />
          <camunda:formField id="file" type="string" />
          <camunda:formField id="path" type="string" />
          <camunda:formField id="content" type="string" />
          <camunda:formField id="review" type="string" />
          <camunda:formField id="approved" type="boolean" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_078gmu6</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0yi3i96</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0qc2g3b" name="Headcount for existing position?">
      <bpmn:incoming>SequenceFlow_0yi3i96</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0z1ajfg</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0woztfl</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0k3t1t5">
      <bpmn:incoming>SequenceFlow_0jibxsg</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_16svorc</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0f8h52a</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0io0hkr" sourceRef="StartEvent_0xvx5o8" targetRef="UserTask_10sl311" />
    <bpmn:sequenceFlow id="SequenceFlow_1xih1s6" sourceRef="UserTask_10sl311" targetRef="UserTask_018uqmv" />
    <bpmn:sequenceFlow id="SequenceFlow_12ppi18" name="Yes" sourceRef="ExclusiveGateway_0yg5v2y" targetRef="UserTask_06ufgpz">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${headcount == "true"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1r5kwq7" name="No" sourceRef="ExclusiveGateway_0yg5v2y" targetRef="EndEvent_0m9xby6">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${headcount == "false"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_078gmu6" sourceRef="UserTask_06ufgpz" targetRef="UserTask_1yifthp" />
    <bpmn:sequenceFlow id="SequenceFlow_0yi3i96" sourceRef="UserTask_1yifthp" targetRef="ExclusiveGateway_0qc2g3b" />
    <bpmn:sequenceFlow id="SequenceFlow_0z1ajfg" name="Yes" sourceRef="ExclusiveGateway_0qc2g3b" targetRef="ServiceTask_09vimkz">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${ExistingRole == "true"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0woztfl" name="No" sourceRef="ExclusiveGateway_0qc2g3b" targetRef="UserTask_072rii6">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${ExistingRole == "false"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0jibxsg" sourceRef="UserTask_072rii6" targetRef="ExclusiveGateway_0k3t1t5" />
    <bpmn:sequenceFlow id="SequenceFlow_0mvgiv7" sourceRef="ServiceTask_09vimkz" targetRef="Task_1yabyac" />
    <bpmn:sequenceFlow id="SequenceFlow_0f8h52a" sourceRef="ExclusiveGateway_0k3t1t5" targetRef="SendTask_16ptk89" />
    <bpmn:endEvent id="EndEvent_1upyldo" name="ends">
      <bpmn:incoming>SequenceFlow_0xj1pco</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0xj1pco" sourceRef="SendTask_16ptk89" targetRef="EndEvent_1upyldo" />
    <bpmn:sequenceFlow id="SequenceFlow_0b5l300" sourceRef="UserTask_018uqmv" targetRef="ExclusiveGateway_0yg5v2y" />
    <bpmn:userTask id="UserTask_072rii6" name="Create new Job Description">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="ApprovedHeadcount">Headcount is approved</camunda:inputParameter>
          <camunda:outputParameter name="JobFile">Job File from Manger</camunda:outputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0woztfl</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0jibxsg</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="SendTask_16ptk89" name="Deliver job file for posting">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="JobFile">Job File from Manger</camunda:inputParameter>
          <camunda:outputParameter name="JobFile">Job File from Manger</camunda:outputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0f8h52a</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0xj1pco</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="ServiceTask_09vimkz" name="Get Existing Job Description">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="ApprovedHeadcount">Headcount is approved</camunda:inputParameter>
          <camunda:outputParameter name="JobFile">Job File from Manger</camunda:outputParameter>
        </camunda:inputOutput>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">https://prod-30.westeurope.logic.azure.com:443/workflows/f9849bbeaadd4106abbb85848dcb378f/triggers/manual/paths/invoke?api-version=2016-06-01&amp;sp=%2Ftriggers%2Fmanual%2Frun&amp;sv=1.0&amp;sig=f4T1tik7LfuXKfJrIxOq0rkL8jdIihs1MscpIncgTvY</camunda:inputParameter>
            <camunda:inputParameter name="method">POST</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:inputParameter name="payload">
              <camunda:script scriptFormat="JavaScript">var data = execution.getVariable("content");
var file = execution.getVariable("file");
var path = execution.getVariable("path");
var out = { "content":data, "file": file, "path":path};
JSON.stringify(out);</camunda:script>
            </camunda:inputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0z1ajfg</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0mvgiv7</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="Task_1yabyac" name="show success message">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="success" label="success" type="string" defaultValue="File successfully created in Dropbox" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0mvgiv7</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_16svorc</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_16svorc" sourceRef="Task_1yabyac" targetRef="ExclusiveGateway_0k3t1t5" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1">
      <bpmndi:BPMNShape id="StartEvent_0xvx5o8_di" bpmnElement="StartEvent_0xvx5o8">
        <dc:Bounds x="-83" y="-100" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="-98" y="-61" width="65" height="25" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_10sl311_di" bpmnElement="UserTask_10sl311">
        <dc:Bounds x="-10" y="-122" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_018uqmv_di" bpmnElement="UserTask_018uqmv">
        <dc:Bounds x="-18" y="361" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_0yg5v2y_di" bpmnElement="ExclusiveGateway_0yg5v2y" isMarkerVisible="true">
        <dc:Bounds x="202" y="375" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="200" y="434.5" width="54" height="25" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_0m9xby6_di" bpmnElement="EndEvent_0m9xby6">
        <dc:Bounds x="426" y="413" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="418" y="448" width="54" height="25" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_06ufgpz_di" bpmnElement="UserTask_06ufgpz">
        <dc:Bounds x="386" y="313" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_1yifthp_di" bpmnElement="UserTask_1yifthp">
        <dc:Bounds x="101" y="-122" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_0qc2g3b_di" bpmnElement="ExclusiveGateway_0qc2g3b" isMarkerVisible="true">
        <dc:Bounds x="231" y="-107" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="278.5" y="-95" width="85" height="25" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_0k3t1t5_di" bpmnElement="ExclusiveGateway_0k3t1t5" isMarkerVisible="true">
        <dc:Bounds x="553" y="-107" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="488" y="-52.5" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0io0hkr_di" bpmnElement="SequenceFlow_0io0hkr">
        <di:waypoint x="-47" y="-82" />
        <di:waypoint x="-10" y="-82" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="-73.5" y="-103" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1xih1s6_di" bpmnElement="SequenceFlow_1xih1s6">
        <di:waypoint x="40" y="-42" />
        <di:waypoint x="40" y="160" />
        <di:waypoint x="45" y="160" />
        <di:waypoint x="45" y="361" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="-2.5" y="138.5" width="90" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_12ppi18_di" bpmnElement="SequenceFlow_12ppi18">
        <di:waypoint x="227" y="375" />
        <di:waypoint x="227" y="353" />
        <di:waypoint x="386" y="353" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="295" y="326" width="19" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1r5kwq7_di" bpmnElement="SequenceFlow_1r5kwq7">
        <di:waypoint x="252" y="400" />
        <di:waypoint x="339" y="400" />
        <di:waypoint x="339" y="431" />
        <di:waypoint x="426" y="431" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="324" y="410.5" width="15" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_078gmu6_di" bpmnElement="SequenceFlow_078gmu6">
        <di:waypoint x="421" y="313" />
        <di:waypoint x="421" y="160" />
        <di:waypoint x="151" y="160" />
        <di:waypoint x="151" y="-42" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="286" y="138.5" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0yi3i96_di" bpmnElement="SequenceFlow_0yi3i96">
        <di:waypoint x="201" y="-82" />
        <di:waypoint x="231" y="-82" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="171" y="-103" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0z1ajfg_di" bpmnElement="SequenceFlow_0z1ajfg">
        <di:waypoint x="256" y="-107" />
        <di:waypoint x="256" y="-152" />
        <di:waypoint x="328" y="-151" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="263" y="-135" width="19" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0woztfl_di" bpmnElement="SequenceFlow_0woztfl">
        <di:waypoint x="256" y="-57" />
        <di:waypoint x="256" y="-5" />
        <di:waypoint x="301" y="-5" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="264" y="-35" width="15" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0jibxsg_di" bpmnElement="SequenceFlow_0jibxsg">
        <di:waypoint x="401" y="-5" />
        <di:waypoint x="578" y="-5" />
        <di:waypoint x="578" y="-57" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="444.5" y="-26.5" width="90" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0mvgiv7_di" bpmnElement="SequenceFlow_0mvgiv7">
        <di:waypoint x="428" y="-152" />
        <di:waypoint x="455" y="-152" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="396.5" y="-173.5" width="90" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0f8h52a_di" bpmnElement="SequenceFlow_0f8h52a">
        <di:waypoint x="603" y="-82" />
        <di:waypoint x="640" y="-82" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="576.5" y="-103.5" width="90" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_1upyldo_di" bpmnElement="EndEvent_1upyldo">
        <dc:Bounds x="777" y="-100" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="784" y="-61" width="24" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0xj1pco_di" bpmnElement="SequenceFlow_0xj1pco">
        <di:waypoint x="740" y="-82" />
        <di:waypoint x="777" y="-82" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="713.5" y="-103.5" width="90" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0b5l300_di" bpmnElement="SequenceFlow_0b5l300">
        <di:waypoint x="82" y="401" />
        <di:waypoint x="202" y="400" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="142" y="379" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_0szg0vs_di" bpmnElement="UserTask_072rii6">
        <dc:Bounds x="301" y="-44" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_0c20okb_di" bpmnElement="SendTask_16ptk89">
        <dc:Bounds x="640" y="-122" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1oze4pa_di" bpmnElement="ServiceTask_09vimkz">
        <dc:Bounds x="328" y="-191" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_1j33709_di" bpmnElement="Task_1yabyac">
        <dc:Bounds x="455" y="-192" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_16svorc_di" bpmnElement="SequenceFlow_16svorc">
        <di:waypoint x="555" y="-152" />
        <di:waypoint x="578" y="-152" />
        <di:waypoint x="578" y="-107" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="566.5" y="-174" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
